---
title: "Project 1: Data Exploration and Visualization"
author: "Jenny Li, Xiang Li"
date: "2021/9/17"
output: html_document
---

<!--- Begin styling code. --->
<style type="text/css">
/* Whole document: */
body{
  font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
  font-size: 12pt;
}
h1.title {
  font-size: 38px;
  text-align: center;
}
h4.author {
  font-size: 18px;
  text-align: center;
}
h4.date {
  font-size: 18px;
  text-align: center;
}
</style>
<!--- End styling code. --->
```{r,message=FALSE,echo=FALSE}
library(tidyverse)
library(splitstackshape)
```


```{r,echo=FALSE,message=FALSE}
# full_bg<-read_csv('https://raw.githubusercontent.com/bryandmartin/STAT155/master/docs/Projects/project1_bgdataviz/board_game_raw.csv')
#  
# write_csv(full_bg,"./Data/full_bg.csv")

full_bg<- read_csv("./Data/full_bg.csv")
```
#Instruction

```{r,echo=FALSE,message=FALSE,warning=FALSE}
#filter games published in 1950 or later and with at least 25 ratings
newFull_gb<-full_bg%>%
  filter(yearpublished>=1950,users_rated>=25)

full_gbMechanic<-newFull_gb%>%
  cSplit("category", direction="wide")

full_gbCategory<-newFull_gb%>%
  cSplit("category", direction="long")

#searching for certain category(contains the word in the name)
catan<-newFull_gb%>%
  filter(grepl("Catan",name))
```


#Mian Section

>Visualization one(maybe playingtime and maxplyers)

```{r,echo=FALSE,message=FALSE,warning=FALSE}
newFull_gb %>%
  ggplot(aes(x = maxplayers, y = playingtime)) +
  geom_point() +
  xlim(0, 20) +
  ylim(0, 20000)+
  theme_minimal()
```

>Viualization two(maybe the average rating and users rated)

```{r,echo=FALSE,message=FALSE,warning=FALSE}
newFull_gb %>%
  ggplot(aes(x = users_rated, y = average_rating)) +
  labs(y = 'average rating', x = 'the number of users rated') +
  geom_smooth(method = 'lm')+
  geom_point(color = 'steelblue') +
  theme_minimal() 
```

>Visualtion three(games that published in each year)

```{r,echo=FALSE,message=FALSE,warning=FALSE}
#print(max(newFull_gb$yearpublished))
newFull_gb %>%
  ggplot(aes(x = yearpublished)) +
  labs(y = 'number of games published', x = 'years published') +
  #change the interval into 5 years each
  scale_x_continuous(breaks = seq(1950, 2020, by = 5)) +
  geom_histogram(binwidth = 5)+
   theme_minimal()
```

>Visualization four(maybe the see the category each games contains)

```{r}

```

>Visualization five(maybe using stacked bar plot compare two category of games within years )

```{r}

```

#Conclusion

# Code Appendix
```{r,eval=FALSE}
#all the code in here
```

